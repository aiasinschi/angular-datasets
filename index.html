<!doctype html>
<html ng-app="statistics">
	<head>
		<title>Hello AngularJS</title>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.3/angular.min.js"></script>
        <link href="https://fonts.googleapis.com/css?family=Abel" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="main.css">
    	<script src="main.js"></script>
	</head>

	<body>
        <div ng-controller="Statistics" id="wrapper" ng-switch = "activeComponent">
            <div id="dataset-list" ng-switch-when="0">
                <p class="ds-label heading">List of datasets:</p>
                <div ng-repeat="object in dataset" class="dataset"
                     ng-click="updateDetails(object)">
                    <div>{{object['title']}}</div>
    <!--
                    <p><span class="ds-label">Year:</span> {{object['c_vintage']}} </p>
                    <p><span class="ds-label">Title:</span> {{object['title']}}</p>
                    <p><span class="ds-label">Access level:</span> {{object['accessLevel']}}</p>
                    <p><span class="ds-label">Bureau code:</span> {{object['bureauCode']}}</p>
                    <p><span class="ds-label">Program code:</span> {{object['programCode']}}</p>
    -->
                </div>
            </div>
            <div id="dataset-detail" ng-switch-when="1">
                <div>
                    <span class="ds-label heading">Variables:</span>
                    <span class="ds-link">{{fullDataURL}}</span>
                    <span class="ds-back-button" ng-click="focusOnDatasets()">Back</span>
                </div>
                <div ng-repeat="var in variables">
                    <p>
                        <span class="ds-label">{{var['label']}}</span> ({{var['name']}})
                        <input value=""/>
                        <span style="color: darkblue; text-transform: capitalize;">{{var['predicateType'] ? var['predicateType'] : 'undef'}}</span>
                        <span style="color: {{var['required'] ? 'red' : 'green'}};">{{var['required'] ? 'REQ' : 'OPT'}}</span>
                    </p>
                </div>
            </div>
            <div id="loading" style="display: none;">Loading. Please wait...</div>
        </div>
	</body>
</html>
